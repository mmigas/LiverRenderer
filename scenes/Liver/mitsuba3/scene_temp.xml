<scene version="3.6.0">
    <default name="integrator" value="biovolpath" />
    <default name="spp" value="124" />
    <default name="res_width" value="960" />
    <default name="res_height" value="540" />
    <default name="max_depth" value="12" />
    <integrator type="$integrator">
        <integer name="max_depth" value="$max_depth" />
    </integrator>
    <sensor type="perspective">
        <float name="fov" value="45" />
        <transform name="to_world">
            <lookat up="-0.317370, 0.895343, -0.312469" target="6.826270, 5.011984, 5.896974" origin="7.481132, 5.343665, 6.507640" />
        </transform>
        <sampler type="ldsampler">
            <integer name="sample_count" value="$spp" />
        </sampler>
        <film type="hdrfilm">
            <integer name="width" value="$res_width" />
            <integer name="height" value="$res_height" />
            <string name="file_format" value="openexr" />
            <string name="pixel_format" value="rgb" />
            <rfilter type="tent" />
        </film>
    </sensor>
    <bsdf type="dielectric" id="ParenchymaBSDF">
        <float name="int_ior" value="1.5" />
        <float name="ext_ior" value="1" />
    </bsdf>
    <bsdf type="bumpmap" id="GlissonCapsuleBSDF">
            <float name="scale" value="0.005" />
        <texture name="texture" type="bitmap">
            <string name="filename" value="tissue_n.png" />
        </texture>
        <bsdf type="dielectric" />
    </bsdf>
    <bsdf type="diffuse" id="FloorBSDF">
        <texture name="reflectance" type="checkerboard">
            <rgb name="color0" value="0.325, 0.31, 0.25" />
            <rgb name="color1" value="0.725, 0.71, 0.68" />
            <transform name="to_uv">
                <scale x="10.000000" y="10.000000" />
            </transform>
        </texture>
    </bsdf>

    <medium id="glissonCapsuleMedium" type="glissonCapsule">
        <float name="sigma_collagen1_R" value="3.146124563777685" />
        <float name="sigma_collagen1_G" value="2.2189004838302524" />
        <float name="sigma_collagen1_B" value="1.5741115169422308" />
        <float name="sigma_collagen2_R" value="2.6853117983771604" />
        <float name="sigma_collagen2_G" value="1.8938982001080131" />
        <float name="sigma_collagen2_B" value="1.3435514528168673" />
        <float name="sigma_collagen3_R" value="0.0033151997510829138" />
        <float name="sigma_collagen3_G" value="0.002338145926059276" />
        <float name="sigma_collagen3_B" value="0.0016587054973047745" />
        <float name="sigma_collagen4_R" value="0.023206398257580394" />
        <float name="sigma_collagen4_G" value="0.01636702148241493" />
        <float name="sigma_collagen4_B" value="0.01161093848113342" />
        <float name="sigma_elastin1_R" value="0.1062817070956702" />
        <float name="sigma_elastin1_G" value="0.29006947548901363" />
        <float name="sigma_elastin1_B" value="0.7164288436612656" />
        <float name="sigma_elastin2_R" value="0.3938675027663073" />
        <float name="sigma_elastin2_G" value="1.074963350341639" />
        <float name="sigma_elastin2_B" value="2.6550010088623375" />
        <float name="sigma_elastin3_R" value="0.5293245804372595" />
        <float name="sigma_elastin3_G" value="1.4446597406707737" />
        <float name="sigma_elastin3_B" value="3.5680965939208136" />
        <float name="sigma_elastin4_R" value="0.18130408857496683" />
        <float name="sigma_elastin4_G" value="0.49482439936361144" />
        <float name="sigma_elastin4_B" value="1.2221433215398063" />
        <float name="scale" value="1" />
    </medium>

    <medium id="parenchymaMedium" type="parenchyma">
        <rgb name="sigma_blood" value="0.004611074674964207, 0.20900034649954347, 0.24625187839886722" />
        <rgb name="sigma_bile" value="0.002160333333333333, 0.0030312499999999997, 0.025356499999999997" />
        <float name="sigma_hepatocity" value="269.26180490217416" />
        <rgb name="sigma_lipid_water" value="0.004632281950333333, 0.00048109802439999993, 0.00106273247395" />
        <float name="scale" value="1" />
    </medium>


    <shape type="obj" id="liver1">
        <string name="filename" value="liver1.obj" />
        <transform name="to_world">
            <scale value="1" />
            <translate x="-5" y="5" z="-5" />
        </transform>
        <ref id="GlissonCapsuleBSDF" />
        <ref name="interior" id="glissonCapsuleMedium" />
    </shape>

    <shape type="obj" id="liver2">
        <string name="filename" value="liver2.obj" />
        <transform name="to_world">
            <scale value="1.0" />
            <translate x="-5" y="5" z="-5" />
        </transform>
        <ref id="ParenchymaBSDF" />
        <ref name="interior" id="parenchymaMedium" />
    </shape>
    <emitter type="envmap">
        <string name="filename" value="cavidade_latitude.exr" />
        <float name="scale" value="2.5" />
        <transform name="to_world">
            <translate x="-3" y="3" z="4" />
            <scale value="1.0" />
            <rotate x="0.57735" y="0.57735" z="0.57735" angle="180" />
        </transform>
    </emitter>
</scene>